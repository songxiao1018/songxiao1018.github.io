<!DOCTYPE html>
<html>
	<head>
		  <title>值日表</title>
		    <style>
    table {
	          border-collapse: collapse;
		      }
      
        th, td {
		      border: 1px solid black;
		            padding: 8px;
			        }
	  </style>
	</head>
	<body>
		  <h1>值日表</h1>
		    <table id="dutyTable">
			        <tr>
					      <th>日期</th>
					            <th>值日生</th>
						        </tr>
							  </table>

							    <script>
								        // 获取值日生数据
								        fetch("get_duty.php")
								          .then(function(response) {
																		              if (response.ok) {
																													            return response.json();
																													          } else {
																																							                throw new Error("Error: " + response.status);
																																							              }
																		            })
								          .then(function(data) {
																		              // 渲染值日表
																		              renderDutyTable(data);
																		            })
								          .catch(function(error) {
																		              console.log(error);
																		            });

								        // 渲染值日表
								        function renderDutyTable(data) {
																		          var table = document.getElementById("dutyTable");

																		          // 遍历值日生数据，创建表格行
																		          data.forEach(function(row) {
																												              var tr = document.createElement("tr");

																												              // 创建日期列
																												              var dateTd = document.createElement("td");
																												              dateTd.textContent = row.date;
																												              tr.appendChild(dateTd);

																												              // 创建值日生列
																												              var nameTd = document.createElement("td");
																												              nameTd.textContent = row.name;
																												              tr.appendChild(nameTd);

																												              // 将表格行添加到表格中
																												              table.appendChild(tr);
																												            });
																		        }
								      </script>
	</body>
</html>
